(window.webpackJsonp=window.webpackJsonp||[]).push([[79,27],{735:function(t,e,n){t.exports={}},742:function(t,e,n){"use strict";n.r(e);var r={name:"BasePieChart",extends:n(743).a,props:{data:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{}}}},mounted:function(){this.renderChart(this.data,this.options)}},c=n(36),component=Object(c.a)(r,undefined,undefined,!1,null,null,null);e.default=component.exports},757:function(t,e,n){"use strict";n(735)},776:function(t,e,n){"use strict";n.r(e);var r=n(317),c=n(203),o=n(688),l=n(707),d=n(262),f=n(271),h=n(206),m=n(687),v=(n(5),n(9),n(6),n(3),n(10),n(8),n(11),n(7)),C=n(1),_=(n(39),n(26),n(100)),x=n.n(_),y=n(712),k=n.n(y),O=n(101),D=n(68),w=n(48);function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){Object(C.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var B={name:"QuickCount",mixins:[D.e],layout:"admin",middleware:"onlySuperadmin",data:function(){return{chartOptions:{},quickCountTime:null,fullscreen:!1}},computed:P(P({},Object(O.b)({loading:"QuickCount/loading",chartData:"QuickCount/chartData",resultData:"QuickCount/resultData"})),{},{dataPie:function(){return{labels:this.chartData.map((function(t){return t.label})),datasets:[{label:"Quick Count",backgroundColor:["#41B883","#E46651","#00D8FF"],data:this.chartData.map((function(t){return t.data[0]}))}]}},isEmptyQuickCount:function(){return x()(this.chartData)&&x()(this.resultData.candidates)}}),created:function(){var t=this;return Object(v.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getData();case 2:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;this.$socket.connect(),this.$socket.on("quickCount",(function(){t.getData()})),document.addEventListener("fullscreenchange",this.handleFullscreenChange)},beforeDestroy:function(){this.$socket.disconnect(),document.removeEventListener("fullscreenchange",this.handleFullscreenChange)},methods:{getChartData:function(){var t=this;return Object(v.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.requestMixin_handleCancel(w.s),e.prev=1,e.next=4,t.$store.dispatch("QuickCount/getChartData",{requestConfig:P({},t.requestMixin_setCancelToken(w.s))});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),t.requestMixin_logResponseErrors(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))()},getResultData:function(){var t=this;return Object(v.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.requestMixin_handleCancel(w.v),e.prev=1,e.next=4,t.$store.dispatch("QuickCount/getResultData",{requestConfig:P({},t.requestMixin_setCancelToken(w.v))});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),t.requestMixin_logResponseErrors(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))()},getData:k()(Object(v.a)(regeneratorRuntime.mark((function t(){var e=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.length>0&&void 0!==e[0]?e[0]:{},t.next=3,this.getChartData();case 3:return t.next=5,this.getResultData();case 5:case"end":return t.stop()}}),t,this)}))),500),onClickFullscreen:function(){var t=document.querySelector("#fullscreen-div");t&&(document.fullscreenElement?document.exitFullscreen():t.requestFullscreen())},handleFullscreenChange:function(){document.fullscreenElement?this.fullscreen=!0:this.fullscreen=!1}}},R=B,E=(n(757),n(36)),component=Object(E.a)(R,(function(){var t=this,e=t._self._c;return e(l.a,[e(m.a,{staticClass:"mt-2 align-center justify-right"},[e(o.a,[e("BaseLabel",{attrs:{title:"Hitung Cepat",fontSize:"24",isBold:"",color:"secondary"}})],1),t._v(" "),e(o.a,{staticClass:"text-right"},[e(c.a,{attrs:{depressed:"",color:"grey lighten-2"},on:{click:t.onClickFullscreen}},[e(d.a,[t._v("mdi-fullscreen")]),t._v(" Fullscreen\n      ")],1),t._v(" "),e(c.a,{attrs:{depressed:"",color:"primary",loading:t.loading,disabled:t.loading},on:{click:t.getData}},[e(d.a,[t._v("mdi-refresh")]),t._v("  refresh\n      ")],1)],1)],1),t._v(" "),e(m.a,{staticClass:"align-center justify-left",class:{"fullscreen-div":t.fullscreen},attrs:{id:"fullscreen-div"}},[t.isEmptyQuickCount?e(o.a,{staticClass:"text-center"},[e("BaseCard",{staticClass:"pt-5",scopedSlots:t._u([{key:"body",fn:function(){return[e("h1",[t._v("Hitung Cepat Belum Tersedia")]),t._v(" "),e("span",[t._v("Peserta belum memilih calon kandidat")])]},proxy:!0}],null,!1,4065841497)})],1):e(o.a,[e("BaseCard",{scopedSlots:t._u([{key:"body",fn:function(){return[t.loading?e("section",[e(m.a,{staticClass:"my-15 fill-height",attrs:{alignContent:"center",justify:"center"}},[e(o.a,{staticClass:"text-center",attrs:{cols:"6"}},[e(h.a,{attrs:{size:80,width:7,color:"primary",indeterminate:""}})],1),t._v(" "),e(o.a,{staticClass:"text-subtitle-1 text-center",attrs:{cols:"12"}},[t._v("\n                Harap tunggu data sedang di hitung\n              ")])],1)],1):e("section",{staticClass:"fullscreen-div",attrs:{id:"fullscreen-div"}},[e(m.a,{staticClass:"mb-15 d-none d-lg-flex d-xl-flex d-sm-none d-md-none"},[e(o.a,[e("client-only",[e("BasePieChart",{attrs:{data:t.dataPie,options:t.chartOptions,height:80}})],1)],1)],1),t._v(" "),e(m.a,{staticClass:"mb-15 d-flex d-lg-none d-xl-none d-sm-flex d-md-flex"},[e(o.a,[e("client-only",[e("BasePieChart",{attrs:{data:t.dataPie,options:t.chartOptions,height:100,width:100}})],1)],1)],1),t._v(" "),e(m.a,t._l(t.resultData.candidates,(function(data,n){return e(o.a,{key:n},[e("BaseCard",{staticClass:"mx-auto text-center rounded-lg",attrs:{maxWidth:"400",outlined:""},scopedSlots:t._u([{key:"body",fn:function(){return[e(r.a,{staticStyle:{top:"-55px"},attrs:{size:"100"}},[e(f.a,{attrs:{src:data.photo,alt:data.full_name}})],1),t._v(" "),e("div",{staticClass:"text--primary mt-n8"},[e("span",{staticClass:"font-weight-bold text-h5"},[t._v("\n                        "+t._s(data.full_name)+"\n                      ")]),t._v(" "),e("div",{staticClass:"mt-3"},[t._v(t._s(data.class_name))]),t._v(" "),e("div",{staticClass:"font-weight-bold text-h3 mt-4 mb-2"},[t._v("\n                        "+t._s(data.percentage)+"\n                      ")]),t._v(" "),e("div",{staticClass:"text--disabled"},[e("b",[t._v(t._s(data.total_votes))]),t._v(" Suara dari\n                        "),e("b",[t._v(t._s(t.resultData.total_votes))]),t._v(" Suara\n                      ")])])]},proxy:!0}],null,!0)})],1)})),1)],1)]},proxy:!0}])})],1)],1)],1)}),[],!1,null,"2e044586",null);e.default=component.exports;installComponents(component,{BaseLabel:n(708).default,BaseCard:n(438).default,BasePieChart:n(742).default})}}]);